<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="animate.min.css">
  <script src="anime.min.js"></script>

  <title>Morph Transition</title>
</head>
<body>
  <svg id="morph" height="100%" width="100%" viewBox="0 0 1920 1080" preserveAspectRatio="none">
    <path class="morph" d="M0,0H0S101.561,1.158,357.355,0,659.822-11.548,947.36,0s445.862-22.55,661.074,0,308.858,0,308.858,0H0Z" fill="#002E3A"></path>
  </svg>
  <section id="sect1">
    <h1>Give me a sticky</h1>
    <p>Go on, go already. Click it ya hear!</p>
    <button id="btn-click">Tappy tappy</button>
  </section>

  <section id="sect2">
    <button id="btn2-click">Go back</button>
  </section>

  <script>
    var btn = document.getElementById('btn-click');
    var btn2 = document.getElementById('btn2-click'); 
    var sect1 = document.getElementById('sect1'); 
    var sect2 = document.getElementById('sect2'); 
    var overlay = document.getElementById('morph'); 

    var morphing = anime({ 
      targets: '.morph', 
      d: [
        { value: 'M0,0V534.072s110.562-233.877,366.356-235.34S646,567.183,933.538,581.774s407.723-311.534,622.935-283.041,360.819,235.34,360.819,235.34V0Z' },
        { value: 'M0,0V1081.879s120.16,1.463,375.954,0,344.85,3.046,634.1,0,434.245-3.482,659.128,0,248.105,0,248.105,0V0Z' },
      ], 
      easing: 'easeInOutQuint', 
      // delay: function () {}, 
      duration: 6500, 
      loop: false, 
      autoplay: false, 
    });
    
    btn.addEventListener('click', function () {
      morphing.restart();
      overlay.classList.add('pointer');
      sect2.classList.add('animated', 'display', 'flipInY', 'delay-5s');
    });
    

    btn2.addEventListener('click', function () {
      morphing.reverse();
      morphing.play();
      overlay.classList.remove('pointer'); 
      sect2.classList.remove('animated', 'display', 'flipInY', 'delay-5s');
    });

  </script>
</body>
</html>